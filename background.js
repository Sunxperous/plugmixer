// Generated by CoffeeScript 1.6.3
(function() {
  var ACTIVE_ICON_19, ACTIVE_ICON_38, INACTIVE_ICON_19, INACTIVE_ICON_38;

  INACTIVE_ICON_19 = 'images/icon19bw.png';

  INACTIVE_ICON_38 = 'images/icon38bw.png';

  ACTIVE_ICON_19 = 'images/icon19.png';

  ACTIVE_ICON_38 = 'images/icon38.png';

  chrome.runtime.onMessage.addListener(function(message, sender, sendResponseTo) {
    switch (message) {
      case "plugmixer_inactive_icon":
        chrome.pageAction.setIcon({
          "tabId": sender.tab.id,
          "path": {
            "19": INACTIVE_ICON_19,
            "38": INACTIVE_ICON_38
          }
        });
        return chrome.pageAction.show(sender.tab.id);
      case "plugmixer_active_icon":
        chrome.pageAction.setIcon({
          "tabId": sender.tab.id,
          "path": {
            "19": ACTIVE_ICON_19,
            "38": ACTIVE_ICON_38
          }
        });
        return chrome.pageAction.show(sender.tab.id);
    }
  });

  chrome.runtime.onInstalled.addListener(function(details) {
    return chrome.storage.sync.get(['status'], function(data) {
      if (data.status == null) {
        return chrome.storage.sync.set({
          'status': true,
          'indicator': 'both'
        });
      }
    });
  });

  chrome.pageAction.onClicked.addListener(function(tab) {
    return chrome.tabs.sendMessage(tab.id, 'icon_clicked', function(response) {});
  });

}).call(this);
